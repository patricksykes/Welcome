<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Programming in R | Introduction to the Mathematical Marine Ecology (MME) Lab</title>
  <meta name="description" content="This is the primary information document for members of the MME Lab." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Programming in R | Introduction to the Mathematical Marine Ecology (MME) Lab" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the primary information document for members of the MME Lab." />
  <meta name="github-repo" content="MathMarEcol/Welcome" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Programming in R | Introduction to the Mathematical Marine Ecology (MME) Lab" />
  
  <meta name="twitter:description" content="This is the primary information document for members of the MME Lab." />
  

<meta name="author" content="The Mathematical Marine Ecology Lab Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rstudio.html"/>
<link rel="next" href="github.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#lab-meetings"><i class="fa fa-check"></i><b>1.1</b> Lab Meetings</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#general-administration"><i class="fa fa-check"></i><b>1.2</b> General Administration</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#lab-contact"><i class="fa fa-check"></i><b>1.2.1</b> Lab Contact:</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#comm"><i class="fa fa-check"></i><b>1.2.2</b> Lab Communication</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#school-of-maths-and-physics"><i class="fa fa-check"></i><b>1.2.3</b> School of Maths and Physics</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#general-it-support"><i class="fa fa-check"></i><b>1.2.4</b> General IT Support</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#student-support"><i class="fa fa-check"></i><b>1.2.5</b> Student Support</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#computing"><i class="fa fa-check"></i><b>1.3</b> Computing</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#research-data-manager"><i class="fa fa-check"></i><b>1.3.1</b> Research Data Manager</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#useful-tools"><i class="fa fa-check"></i><b>1.4</b> Useful Tools</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#software"><i class="fa fa-check"></i><b>1.4.1</b> Software</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#r-resources"><i class="fa fa-check"></i><b>1.4.2</b> R Resources</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#r-packages"><i class="fa fa-check"></i><b>1.4.3</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#un-sustainable-development-goals"><i class="fa fa-check"></i><b>1.5</b> UN Sustainable Development Goals</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#open-data-science"><i class="fa fa-check"></i><b>1.6</b> Open Data Science</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#online-code-of-conduct"><i class="fa fa-check"></i><b>1.7</b> Online Code of Conduct</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2</b> R &amp; RStudio, RMarkdown</a><ul>
<li class="chapter" data-level="2.1" data-path="rstudio.html"><a href="rstudio.html#objectives-resources"><i class="fa fa-check"></i><b>2.1</b> Objectives &amp; Resources</a><ul>
<li class="chapter" data-level="2.1.1" data-path="rstudio.html"><a href="rstudio.html#objectives"><i class="fa fa-check"></i><b>2.1.1</b> Objectives</a></li>
<li class="chapter" data-level="2.1.2" data-path="rstudio.html"><a href="rstudio.html#resources"><i class="fa fa-check"></i><b>2.1.2</b> Resources</a></li>
<li class="chapter" data-level="2.1.3" data-path="rstudio.html"><a href="rstudio.html#data-and-packages"><i class="fa fa-check"></i><b>2.1.3</b> Data and packages</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rstudio.html"><a href="rstudio.html#why-learn-r-with-rstudio"><i class="fa fa-check"></i><b>2.2</b> Why learn R with RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio.html"><a href="rstudio.html#r-at-the-console-rstudio-goodies"><i class="fa fa-check"></i><b>2.3</b> R at the console, RStudio goodies</a><ul>
<li class="chapter" data-level="2.3.1" data-path="rstudio.html"><a href="rstudio.html#error-messages-are-your-friends"><i class="fa fa-check"></i><b>2.3.1</b> Error messages are your friends</a></li>
<li class="chapter" data-level="2.3.2" data-path="rstudio.html"><a href="rstudio.html#logical-operators-and-expressions"><i class="fa fa-check"></i><b>2.3.2</b> Logical operators and expressions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rstudio.html"><a href="rstudio.html#your-turn"><i class="fa fa-check"></i><b>2.4</b> Your Turn</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio.html"><a href="rstudio.html#r-functions-help-pages"><i class="fa fa-check"></i><b>2.5</b> R functions, help pages</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rstudio.html"><a href="rstudio.html#your-turn-1"><i class="fa fa-check"></i><b>2.5.1</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rstudio.html"><a href="rstudio.html#packages"><i class="fa fa-check"></i><b>2.6</b> Packages</a></li>
<li class="chapter" data-level="2.7" data-path="rstudio.html"><a href="rstudio.html#clearing-the-environment"><i class="fa fa-check"></i><b>2.7</b> Clearing the environment</a><ul>
<li class="chapter" data-level="2.7.1" data-path="rstudio.html"><a href="rstudio.html#your-turn-2"><i class="fa fa-check"></i><b>2.7.1</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rstudio.html"><a href="rstudio.html#rmarkdown"><i class="fa fa-check"></i><b>2.8</b> RMarkdown</a><ul>
<li class="chapter" data-level="2.8.1" data-path="rstudio.html"><a href="rstudio.html#your-turn-3"><i class="fa fa-check"></i><b>2.8.1</b> Your Turn</a></li>
<li class="chapter" data-level="2.8.2" data-path="rstudio.html"><a href="rstudio.html#code-chunks"><i class="fa fa-check"></i><b>2.8.2</b> Code chunks</a></li>
<li class="chapter" data-level="2.8.3" data-path="rstudio.html"><a href="rstudio.html#your-turn-4"><i class="fa fa-check"></i><b>2.8.3</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="rstudio.html"><a href="rstudio.html#rmarkdown-video-1-minute"><i class="fa fa-check"></i><b>2.9</b> RMarkdown video (1-minute)</a></li>
<li class="chapter" data-level="2.10" data-path="rstudio.html"><a href="rstudio.html#troubleshooting"><i class="fa fa-check"></i><b>2.10</b> Troubleshooting</a><ul>
<li class="chapter" data-level="2.10.1" data-path="rstudio.html"><a href="rstudio.html#i-entered-a-command-and-nothings-happening"><i class="fa fa-check"></i><b>2.10.1</b> I entered a command and nothing’s happening</a></li>
<li class="chapter" data-level="2.10.2" data-path="rstudio.html"><a href="rstudio.html#how-do-i-update-rstudio"><i class="fa fa-check"></i><b>2.10.2</b> How do I update RStudio?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>3</b> Programming in R</a><ul>
<li class="chapter" data-level="3.1" data-path="programming.html"><a href="programming.html#objectives-resources-1"><i class="fa fa-check"></i><b>3.1</b> Objectives &amp; Resources</a><ul>
<li class="chapter" data-level="3.1.1" data-path="programming.html"><a href="programming.html#objectives-1"><i class="fa fa-check"></i><b>3.1.1</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="programming.html"><a href="programming.html#analysis-plan"><i class="fa fa-check"></i><b>3.2</b> Analysis plan</a></li>
<li class="chapter" data-level="3.3" data-path="programming.html"><a href="programming.html#create-an-r-script"><i class="fa fa-check"></i><b>3.3</b> Create an R script</a></li>
<li class="chapter" data-level="3.4" data-path="programming.html"><a href="programming.html#automation-with-for-loops"><i class="fa fa-check"></i><b>3.4</b> Automation with for loops</a><ul>
<li class="chapter" data-level="3.4.1" data-path="programming.html"><a href="programming.html#thinking-ahead-cleaning-up-our-code"><i class="fa fa-check"></i><b>3.4.1</b> Thinking ahead: cleaning up our code</a></li>
<li class="chapter" data-level="3.4.2" data-path="programming.html"><a href="programming.html#for-loop-basic-structure"><i class="fa fa-check"></i><b>3.4.2</b> For loop basic structure</a></li>
<li class="chapter" data-level="3.4.3" data-path="programming.html"><a href="programming.html#executable-for-loop"><i class="fa fa-check"></i><b>3.4.3</b> Executable for loop!</a></li>
<li class="chapter" data-level="3.4.4" data-path="programming.html"><a href="programming.html#clean-up-our-repo"><i class="fa fa-check"></i><b>3.4.4</b> Clean up our repo</a></li>
<li class="chapter" data-level="3.4.5" data-path="programming.html"><a href="programming.html#your-turn-5"><i class="fa fa-check"></i><b>3.4.5</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="programming.html"><a href="programming.html#conditional-statements-with-if-and-else"><i class="fa fa-check"></i><b>3.5</b> Conditional statements with <code>if</code> and <code>else</code></a><ul>
<li class="chapter" data-level="3.5.1" data-path="programming.html"><a href="programming.html#if-statement-basic-structure"><i class="fa fa-check"></i><b>3.5.1</b> if statement basic structure</a></li>
<li class="chapter" data-level="3.5.2" data-path="programming.html"><a href="programming.html#executable-if-statement"><i class="fa fa-check"></i><b>3.5.2</b> Executable if statement</a></li>
<li class="chapter" data-level="3.5.3" data-path="programming.html"><a href="programming.html#executable-ifelse-statement"><i class="fa fa-check"></i><b>3.5.3</b> Executable if/else statement</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="programming.html"><a href="programming.html#more-r"><i class="fa fa-check"></i><b>3.6</b> More R!</a><ul>
<li class="chapter" data-level="3.6.1" data-path="programming.html"><a href="programming.html#importing-and-installing"><i class="fa fa-check"></i><b>3.6.1</b> Importing and Installing</a></li>
<li class="chapter" data-level="3.6.2" data-path="programming.html"><a href="programming.html#organization-and-workflows"><i class="fa fa-check"></i><b>3.6.2</b> Organization and workflows</a></li>
<li class="chapter" data-level="3.6.3" data-path="programming.html"><a href="programming.html#getting-help"><i class="fa fa-check"></i><b>3.6.3</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="programming.html"><a href="programming.html#ideas-for-extended-analysis-2"><i class="fa fa-check"></i><b>3.7</b> Ideas for Extended Analysis 2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>4</b> GitHub</a><ul>
<li class="chapter" data-level="4.1" data-path="github.html"><a href="github.html#objectives-2"><i class="fa fa-check"></i><b>4.1</b> Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="github.html"><a href="github.html#what-are-git-and-github"><i class="fa fa-check"></i><b>4.2</b> What are Git and Github?</a></li>
<li class="chapter" data-level="4.3" data-path="github.html"><a href="github.html#why-should-scientists-use-github"><i class="fa fa-check"></i><b>4.3</b> Why should scientists use GitHub?</a></li>
<li class="chapter" data-level="4.4" data-path="github.html"><a href="github.html#resources-1"><i class="fa fa-check"></i><b>4.4</b> Resources</a></li>
<li class="chapter" data-level="4.5" data-path="github.html"><a href="github.html#lets-get-started"><i class="fa fa-check"></i><b>4.5</b> Let’s get started</a><ul>
<li class="chapter" data-level="4.5.1" data-path="github.html"><a href="github.html#some-github-terminology"><i class="fa fa-check"></i><b>4.5.1</b> Some Github terminology</a></li>
<li class="chapter" data-level="4.5.2" data-path="github.html"><a href="github.html#setup-git-github"><i class="fa fa-check"></i><b>4.5.2</b> Setup Git &amp; GitHub</a></li>
<li class="chapter" data-level="4.5.3" data-path="github.html"><a href="github.html#create-a-repository-on-github.com"><i class="fa fa-check"></i><b>4.5.3</b> Create a repository on Github.com</a></li>
<li class="chapter" data-level="4.5.4" data-path="github.html"><a href="github.html#clone-your-repository-using-rstudio"><i class="fa fa-check"></i><b>4.5.4</b> Clone your repository using RStudio</a></li>
<li class="chapter" data-level="4.5.5" data-path="github.html"><a href="github.html#inspect-results"><i class="fa fa-check"></i><b>4.5.5</b> Inspect results</a></li>
<li class="chapter" data-level="4.5.6" data-path="github.html"><a href="github.html#add-files-to-our-local-repo"><i class="fa fa-check"></i><b>4.5.6</b> Add files to our local repo</a></li>
<li class="chapter" data-level="4.5.7" data-path="github.html"><a href="github.html#committing-your-changes-and-syncing-with-github.com"><i class="fa fa-check"></i><b>4.5.7</b> Committing your changes and syncing with GitHub.com</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="github.html"><a href="github.html#explore-remote-github"><i class="fa fa-check"></i><b>4.6</b> Explore remote Github</a></li>
<li class="chapter" data-level="4.7" data-path="github.html"><a href="github.html#going-back-in-time"><i class="fa fa-check"></i><b>4.7</b> Going back in time</a></li>
<li class="chapter" data-level="4.8" data-path="github.html"><a href="github.html#happy-git-with-r"><i class="fa fa-check"></i><b>4.8</b> Happy Git with R</a></li>
<li class="chapter" data-level="4.9" data-path="github.html"><a href="github.html#growing-the-tree---branching-and-merging"><i class="fa fa-check"></i><b>4.9</b> Growing the Tree - Branching and merging</a><ul>
<li class="chapter" data-level="4.9.1" data-path="github.html"><a href="github.html#make-a-branch"><i class="fa fa-check"></i><b>4.9.1</b> Make a Branch</a></li>
<li class="chapter" data-level="4.9.2" data-path="github.html"><a href="github.html#use-a-branch"><i class="fa fa-check"></i><b>4.9.2</b> Use a branch</a></li>
<li class="chapter" data-level="4.9.3" data-path="github.html"><a href="github.html#put-changes-into-master"><i class="fa fa-check"></i><b>4.9.3</b> Put changes into master</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="collaborating.html"><a href="collaborating.html"><i class="fa fa-check"></i><b>5</b> Collaborating with GitHub</a><ul>
<li class="chapter" data-level="5.1" data-path="collaborating.html"><a href="collaborating.html#objectives-resources-2"><i class="fa fa-check"></i><b>5.1</b> Objectives &amp; Resources</a><ul>
<li class="chapter" data-level="5.1.1" data-path="collaborating.html"><a href="collaborating.html#objectives-3"><i class="fa fa-check"></i><b>5.1.1</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="collaborating.html"><a href="collaborating.html#create-repo-partner-1"><i class="fa fa-check"></i><b>5.2</b> Create repo (Partner 1)</a></li>
<li class="chapter" data-level="5.3" data-path="collaborating.html"><a href="collaborating.html#create-a-gh-pages-branch-partner-1"><i class="fa fa-check"></i><b>5.3</b> Create a gh-pages branch (Partner 1)</a></li>
<li class="chapter" data-level="5.4" data-path="collaborating.html"><a href="collaborating.html#give-your-collaborator-administration-privileges-partner-1-and-2"><i class="fa fa-check"></i><b>5.4</b> Give your collaborator administration privileges (Partner 1 and 2)</a></li>
<li class="chapter" data-level="5.5" data-path="collaborating.html"><a href="collaborating.html#clone-to-a-new-rproject-partner-1"><i class="fa fa-check"></i><b>5.5</b> Clone to a new Rproject (Partner 1)</a></li>
<li class="chapter" data-level="5.6" data-path="collaborating.html"><a href="collaborating.html#clone-to-a-new-rproject-partner-2"><i class="fa fa-check"></i><b>5.6</b> Clone to a new Rproject (Partner 2)</a></li>
<li class="chapter" data-level="5.7" data-path="collaborating.html"><a href="collaborating.html#edit-a-file-and-sync-partner-2"><i class="fa fa-check"></i><b>5.7</b> Edit a file and sync (Partner 2)</a></li>
<li class="chapter" data-level="5.8" data-path="collaborating.html"><a href="collaborating.html#state-of-the-repository"><i class="fa fa-check"></i><b>5.8</b> State of the Repository</a></li>
<li class="chapter" data-level="5.9" data-path="collaborating.html"><a href="collaborating.html#merge-conflicts"><i class="fa fa-check"></i><b>5.9</b> Merge conflicts</a><ul>
<li class="chapter" data-level="5.9.1" data-path="collaborating.html"><a href="collaborating.html#your-turn-6"><i class="fa fa-check"></i><b>5.9.1</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="collaborating.html"><a href="collaborating.html#how-do-you-avoid-merge-conflicts"><i class="fa fa-check"></i><b>5.10</b> How do you avoid merge conflicts?</a></li>
<li class="chapter" data-level="5.11" data-path="collaborating.html"><a href="collaborating.html#create-your-collaborative-website"><i class="fa fa-check"></i><b>5.11</b> Create your collaborative website</a></li>
<li class="chapter" data-level="5.12" data-path="collaborating.html"><a href="collaborating.html#your-turn-7"><i class="fa fa-check"></i><b>5.12</b> Your turn</a></li>
<li class="chapter" data-level="5.13" data-path="collaborating.html"><a href="collaborating.html#explore-on-github.com"><i class="fa fa-check"></i><b>5.13</b> Explore on GitHub.com</a><ul>
<li class="chapter" data-level="5.13.1" data-path="collaborating.html"><a href="collaborating.html#commit-history"><i class="fa fa-check"></i><b>5.13.1</b> Commit History</a></li>
<li class="chapter" data-level="5.13.2" data-path="collaborating.html"><a href="collaborating.html#blame"><i class="fa fa-check"></i><b>5.13.2</b> Blame</a></li>
<li class="chapter" data-level="5.13.3" data-path="collaborating.html"><a href="collaborating.html#issues"><i class="fa fa-check"></i><b>5.13.3</b> Issues</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="collaborating.html"><a href="collaborating.html#nyc-flights-exploration"><i class="fa fa-check"></i><b>5.14</b> NYC flights exploration</a><ul>
<li class="chapter" data-level="5.14.1" data-path="collaborating.html"><a href="collaborating.html#logical-operators"><i class="fa fa-check"></i><b>5.14.1</b> Logical operators</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="collaborating.html"><a href="collaborating.html#your-turn-8"><i class="fa fa-check"></i><b>5.15</b> Your turn</a><ul>
<li class="chapter" data-level="5.15.1" data-path="collaborating.html"><a href="collaborating.html#use-logicals"><i class="fa fa-check"></i><b>5.15.1</b> Use logicals</a></li>
<li class="chapter" data-level="5.15.2" data-path="collaborating.html"><a href="collaborating.html#missing-values"><i class="fa fa-check"></i><b>5.15.2</b> Missing values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="how-to-write-well.html"><a href="how-to-write-well.html"><i class="fa fa-check"></i><b>6</b> How to write well</a><ul>
<li class="chapter" data-level="6.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a><ul>
<li class="chapter" data-level="6.1.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#what-is-good-scientific-writing"><i class="fa fa-check"></i><b>6.1.1</b> What is good scientific writing?</a></li>
<li class="chapter" data-level="6.1.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#why-write-well"><i class="fa fa-check"></i><b>6.1.2</b> Why write well?</a></li>
<li class="chapter" data-level="6.1.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#why-do-we-have-difficulties-writing-well"><i class="fa fa-check"></i><b>6.1.3</b> Why do we have difficulties writing well?</a></li>
<li class="chapter" data-level="6.1.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#how-this-e-book-can-help"><i class="fa fa-check"></i><b>6.1.4</b> How this e-book can help</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#general-scientific-style"><i class="fa fa-check"></i><b>6.2</b> General scientific style</a><ul>
<li class="chapter" data-level="6.2.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#remove-emotive-language"><i class="fa fa-check"></i><b>6.2.1</b> Remove emotive language</a></li>
<li class="chapter" data-level="6.2.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#be-consistent"><i class="fa fa-check"></i><b>6.2.2</b> Be consistent</a></li>
<li class="chapter" data-level="6.2.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#be-particular"><i class="fa fa-check"></i><b>6.2.3</b> Be particular!</a></li>
<li class="chapter" data-level="6.2.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#repetition-is-good"><i class="fa fa-check"></i><b>6.2.4</b> Repetition is good!</a></li>
<li class="chapter" data-level="6.2.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#elegant-variation-confuses"><i class="fa fa-check"></i><b>6.2.5</b> Elegant variation confuses…</a></li>
<li class="chapter" data-level="6.2.6" data-path="how-to-write-well.html"><a href="how-to-write-well.html#making-word-structure-parallel"><i class="fa fa-check"></i><b>6.2.6</b> Making word structure parallel…</a></li>
<li class="chapter" data-level="6.2.7" data-path="how-to-write-well.html"><a href="how-to-write-well.html#be-specific"><i class="fa fa-check"></i><b>6.2.7</b> Be specific</a></li>
<li class="chapter" data-level="6.2.8" data-path="how-to-write-well.html"><a href="how-to-write-well.html#be-formal-not-colloquial"><i class="fa fa-check"></i><b>6.2.8</b> Be formal, not colloquial</a></li>
<li class="chapter" data-level="6.2.9" data-path="how-to-write-well.html"><a href="how-to-write-well.html#typeset-equations-properly"><i class="fa fa-check"></i><b>6.2.9</b> Typeset equations properly</a></li>
<li class="chapter" data-level="6.2.10" data-path="how-to-write-well.html"><a href="how-to-write-well.html#make-your-writing-more-accessible-minimise-acronyms"><i class="fa fa-check"></i><b>6.2.10</b> Make your writing more accessible: minimise acronyms</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#simple-words"><i class="fa fa-check"></i><b>6.3</b> Simple words</a><ul>
<li class="chapter" data-level="6.3.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#replace-complex-with-simpler-words"><i class="fa fa-check"></i><b>6.3.1</b> Replace complex with simpler words</a></li>
<li class="chapter" data-level="6.3.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#simpler-word-groups-unstacking-modifiers"><i class="fa fa-check"></i><b>6.3.2</b> Simpler word groups: unstacking modifiers</a></li>
<li class="chapter" data-level="6.3.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#redundant-word-pairs"><i class="fa fa-check"></i><b>6.3.3</b> Redundant word pairs</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#appropriate-words"><i class="fa fa-check"></i><b>6.4</b> Appropriate words</a><ul>
<li class="chapter" data-level="6.4.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#appropriate-adjectives"><i class="fa fa-check"></i><b>6.4.1</b> Appropriate adjectives</a></li>
<li class="chapter" data-level="6.4.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#appropriate-prepositions"><i class="fa fa-check"></i><b>6.4.2</b> Appropriate prepositions</a></li>
<li class="chapter" data-level="6.4.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#appropriate-word-partners"><i class="fa fa-check"></i><b>6.4.3</b> Appropriate word partners</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#overused-words"><i class="fa fa-check"></i><b>6.5</b> Overused words</a><ul>
<li class="chapter" data-level="6.5.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#occur"><i class="fa fa-check"></i><b>6.5.1</b> Occur</a></li>
<li class="chapter" data-level="6.5.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#importantcrucialcritical"><i class="fa fa-check"></i><b>6.5.2</b> Important/crucial/critical</a></li>
<li class="chapter" data-level="6.5.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#respectively"><i class="fa fa-check"></i><b>6.5.3</b> Respectively</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="how-to-write-well.html"><a href="how-to-write-well.html#confusing-word-pairs"><i class="fa fa-check"></i><b>6.6</b> Confusing word pairs</a><ul>
<li class="chapter" data-level="6.6.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#a-rather-than-an"><i class="fa fa-check"></i><b>6.6.1</b> ‘A’ rather than ‘an’</a></li>
<li class="chapter" data-level="6.6.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#an-rather-than-a"><i class="fa fa-check"></i><b>6.6.2</b> ‘An’ rather than ‘a’</a></li>
<li class="chapter" data-level="6.6.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#aims-vs-objectives"><i class="fa fa-check"></i><b>6.6.3</b> ‘Aims’ vs ‘objectives’</a></li>
<li class="chapter" data-level="6.6.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#all-together-vs-altogether"><i class="fa fa-check"></i><b>6.6.4</b> ‘All together’ vs ‘Altogether’</a></li>
<li class="chapter" data-level="6.6.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#examples-of-altogether"><i class="fa fa-check"></i><b>6.6.5</b> Examples of ‘altogether’</a></li>
<li class="chapter" data-level="6.6.6" data-path="how-to-write-well.html"><a href="how-to-write-well.html#examples-of-all-together"><i class="fa fa-check"></i><b>6.6.6</b> Examples of ‘all together’</a></li>
<li class="chapter" data-level="6.6.7" data-path="how-to-write-well.html"><a href="how-to-write-well.html#between-vs-among"><i class="fa fa-check"></i><b>6.6.7</b> ‘Between’ vs ‘Among’</a></li>
<li class="chapter" data-level="6.6.8" data-path="how-to-write-well.html"><a href="how-to-write-well.html#complement-vs-compliment"><i class="fa fa-check"></i><b>6.6.8</b> ‘Complement’ vs ‘Compliment’</a></li>
<li class="chapter" data-level="6.6.9" data-path="how-to-write-well.html"><a href="how-to-write-well.html#dependent-vs-dependant"><i class="fa fa-check"></i><b>6.6.9</b> ‘Dependent’ vs ‘Dependant’</a></li>
<li class="chapter" data-level="6.6.10" data-path="how-to-write-well.html"><a href="how-to-write-well.html#effect-vs-affect"><i class="fa fa-check"></i><b>6.6.10</b> ‘Effect’ vs ‘Affect’</a></li>
<li class="chapter" data-level="6.6.11" data-path="how-to-write-well.html"><a href="how-to-write-well.html#either-or-vs-neither-nor"><i class="fa fa-check"></i><b>6.6.11</b> ‘Either or’ vs ‘Neither nor’</a></li>
<li class="chapter" data-level="6.6.12" data-path="how-to-write-well.html"><a href="how-to-write-well.html#estimated-vs-measured-vs-quantified-vs-determined-vs-assessed"><i class="fa fa-check"></i><b>6.6.12</b> ‘Estimated’ vs ‘Measured’ vs ‘Quantified’ vs ‘Determined’ vs ‘Assessed’</a></li>
<li class="chapter" data-level="6.6.13" data-path="how-to-write-well.html"><a href="how-to-write-well.html#measured"><i class="fa fa-check"></i><b>6.6.13</b> Measured</a></li>
<li class="chapter" data-level="6.6.14" data-path="how-to-write-well.html"><a href="how-to-write-well.html#estimated"><i class="fa fa-check"></i><b>6.6.14</b> Estimated</a></li>
<li class="chapter" data-level="6.6.15" data-path="how-to-write-well.html"><a href="how-to-write-well.html#assessed"><i class="fa fa-check"></i><b>6.6.15</b> Assessed</a></li>
<li class="chapter" data-level="6.6.16" data-path="how-to-write-well.html"><a href="how-to-write-well.html#quantified"><i class="fa fa-check"></i><b>6.6.16</b> Quantified</a></li>
<li class="chapter" data-level="6.6.17" data-path="how-to-write-well.html"><a href="how-to-write-well.html#determined"><i class="fa fa-check"></i><b>6.6.17</b> Determined</a></li>
<li class="chapter" data-level="6.6.18" data-path="how-to-write-well.html"><a href="how-to-write-well.html#led-vs-lead"><i class="fa fa-check"></i><b>6.6.18</b> ‘Led’ vs ‘Lead’</a></li>
<li class="chapter" data-level="6.6.19" data-path="how-to-write-well.html"><a href="how-to-write-well.html#lesser-vs-fewer"><i class="fa fa-check"></i><b>6.6.19</b> ‘Lesser’ vs ‘Fewer’</a></li>
<li class="chapter" data-level="6.6.20" data-path="how-to-write-well.html"><a href="how-to-write-well.html#maybe-vs-may-be"><i class="fa fa-check"></i><b>6.6.20</b> ‘Maybe’ vs ‘May be’</a></li>
<li class="chapter" data-level="6.6.21" data-path="how-to-write-well.html"><a href="how-to-write-well.html#may-vs-might-vs-could"><i class="fa fa-check"></i><b>6.6.21</b> ‘May’ vs ‘Might’ vs ‘Could’</a></li>
<li class="chapter" data-level="6.6.22" data-path="how-to-write-well.html"><a href="how-to-write-well.html#past-vs-last"><i class="fa fa-check"></i><b>6.6.22</b> ‘Past’ vs ‘Last’</a></li>
<li class="chapter" data-level="6.6.23" data-path="how-to-write-well.html"><a href="how-to-write-well.html#practice-vs-practise"><i class="fa fa-check"></i><b>6.6.23</b> ‘Practice’ vs ‘Practise’</a></li>
<li class="chapter" data-level="6.6.24" data-path="how-to-write-well.html"><a href="how-to-write-well.html#predominate-vs-predominant"><i class="fa fa-check"></i><b>6.6.24</b> Predominate vs Predominant</a></li>
<li class="chapter" data-level="6.6.25" data-path="how-to-write-well.html"><a href="how-to-write-well.html#principle-vs-principal"><i class="fa fa-check"></i><b>6.6.25</b> ‘Principle’ vs ‘Principal’</a></li>
<li class="chapter" data-level="6.6.26" data-path="how-to-write-well.html"><a href="how-to-write-well.html#should-vs-could"><i class="fa fa-check"></i><b>6.6.26</b> Should vs Could</a></li>
<li class="chapter" data-level="6.6.27" data-path="how-to-write-well.html"><a href="how-to-write-well.html#toward-vs-towards"><i class="fa fa-check"></i><b>6.6.27</b> ‘Toward’ vs ‘Towards’</a></li>
<li class="chapter" data-level="6.6.28" data-path="how-to-write-well.html"><a href="how-to-write-well.html#where-vs-when"><i class="fa fa-check"></i><b>6.6.28</b> ‘Where’ vs ‘When’</a></li>
<li class="chapter" data-level="6.6.29" data-path="how-to-write-well.html"><a href="how-to-write-well.html#which-vs-that"><i class="fa fa-check"></i><b>6.6.29</b> ‘Which’ vs ‘That’</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="how-to-write-well.html"><a href="how-to-write-well.html#punctuation"><i class="fa fa-check"></i><b>6.7</b> Punctuation</a><ul>
<li class="chapter" data-level="6.7.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#apostrophes"><i class="fa fa-check"></i><b>6.7.1</b> Apostrophes</a></li>
<li class="chapter" data-level="6.7.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#recommendations"><i class="fa fa-check"></i><b>6.7.2</b> Recommendations</a></li>
<li class="chapter" data-level="6.7.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#commas"><i class="fa fa-check"></i><b>6.7.3</b> Commas</a></li>
<li class="chapter" data-level="6.7.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#spaces"><i class="fa fa-check"></i><b>6.7.4</b> Spaces</a></li>
<li class="chapter" data-level="6.7.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#hyphens"><i class="fa fa-check"></i><b>6.7.5</b> Hyphens</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="how-to-write-well.html"><a href="how-to-write-well.html#short-and-simple-sentences"><i class="fa fa-check"></i><b>6.8</b> Short and simple sentences</a><ul>
<li class="chapter" data-level="6.8.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#can-you-say-something-more-simply-make-explicit-statements"><i class="fa fa-check"></i><b>6.8.1</b> Can you say something more simply? Make explicit statements</a></li>
<li class="chapter" data-level="6.8.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#uncertainties-only-one-in-a-sentence"><i class="fa fa-check"></i><b>6.8.2</b> Uncertainties – only one in a sentence</a></li>
<li class="chapter" data-level="6.8.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#removing-redundancy-in-sentences"><i class="fa fa-check"></i><b>6.8.3</b> Removing redundancy in sentences</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="how-to-write-well.html"><a href="how-to-write-well.html#effective-sentences"><i class="fa fa-check"></i><b>6.9</b> Effective sentences</a><ul>
<li class="chapter" data-level="6.9.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#agreement-of-subject-and-verb"><i class="fa fa-check"></i><b>6.9.1</b> Agreement of subject and verb</a></li>
<li class="chapter" data-level="6.9.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#putting-like-things-together"><i class="fa fa-check"></i><b>6.9.2</b> Putting like things together</a></li>
<li class="chapter" data-level="6.9.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#active-vs-passive-voice"><i class="fa fa-check"></i><b>6.9.3</b> Active vs Passive voice</a></li>
<li class="chapter" data-level="6.9.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#logical-sequence"><i class="fa fa-check"></i><b>6.9.4</b> Logical sequence</a></li>
<li class="chapter" data-level="6.9.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#numbers-in-sentences"><i class="fa fa-check"></i><b>6.9.5</b> Numbers in sentences</a></li>
<li class="chapter" data-level="6.9.6" data-path="how-to-write-well.html"><a href="how-to-write-well.html#one-idea-per-sentence"><i class="fa fa-check"></i><b>6.9.6</b> One idea per sentence</a></li>
<li class="chapter" data-level="6.9.7" data-path="how-to-write-well.html"><a href="how-to-write-well.html#lists-in-a-sentence"><i class="fa fa-check"></i><b>6.9.7</b> Lists in a sentence</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="how-to-write-well.html"><a href="how-to-write-well.html#effective-paragraphs"><i class="fa fa-check"></i><b>6.10</b> Effective paragraphs</a><ul>
<li class="chapter" data-level="6.10.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#structure"><i class="fa fa-check"></i><b>6.10.1</b> Structure</a></li>
<li class="chapter" data-level="6.10.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#lists"><i class="fa fa-check"></i><b>6.10.2</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="how-to-write-well.html"><a href="how-to-write-well.html#common-grammatical-mistakes"><i class="fa fa-check"></i><b>6.11</b> Common grammatical mistakes</a><ul>
<li class="chapter" data-level="6.11.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#remove-double-negatives"><i class="fa fa-check"></i><b>6.11.1</b> Remove double negatives</a></li>
<li class="chapter" data-level="6.11.2" data-path="how-to-write-well.html"><a href="how-to-write-well.html#plurals"><i class="fa fa-check"></i><b>6.11.2</b> Plurals</a></li>
<li class="chapter" data-level="6.11.3" data-path="how-to-write-well.html"><a href="how-to-write-well.html#split-infinitives"><i class="fa fa-check"></i><b>6.11.3</b> Split infinitives</a></li>
<li class="chapter" data-level="6.11.4" data-path="how-to-write-well.html"><a href="how-to-write-well.html#however"><i class="fa fa-check"></i><b>6.11.4</b> However</a></li>
<li class="chapter" data-level="6.11.5" data-path="how-to-write-well.html"><a href="how-to-write-well.html#mainly"><i class="fa fa-check"></i><b>6.11.5</b> Mainly</a></li>
<li class="chapter" data-level="6.11.6" data-path="how-to-write-well.html"><a href="how-to-write-well.html#using-reword-from-the-journal-conservation-biology."><i class="fa fa-check"></i><b>6.11.6</b> Using (reword, from the journal Conservation Biology.)</a></li>
<li class="chapter" data-level="6.11.7" data-path="how-to-write-well.html"><a href="how-to-write-well.html#myself-is-not-a-substitute-for-me-reword"><i class="fa fa-check"></i><b>6.11.7</b> Myself is not a substitute for me (Reword)</a></li>
<li class="chapter" data-level="6.11.8" data-path="how-to-write-well.html"><a href="how-to-write-well.html#references-and-further-reading"><i class="fa fa-check"></i><b>6.11.8</b> References and further reading</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="how-to-write-well.html"><a href="how-to-write-well.html#american-english-differences"><i class="fa fa-check"></i><b>6.12</b> American English Differences</a><ul>
<li class="chapter" data-level="6.12.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#british-or-us-english"><i class="fa fa-check"></i><b>6.12.1</b> British or US English</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="how-to-write-well.html"><a href="how-to-write-well.html#removing-waste-words"><i class="fa fa-check"></i><b>6.13</b> Removing waste words</a><ul>
<li class="chapter" data-level="6.13.1" data-path="how-to-write-well.html"><a href="how-to-write-well.html#removing-removing-redundant-words"><i class="fa fa-check"></i><b>6.13.1</b> Removing Removing redundant words</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html"><i class="fa fa-check"></i><b>7</b> High Performance Computing at UQ</a><ul>
<li class="chapter" data-level="7.1" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#uqs-research-computing-centre"><i class="fa fa-check"></i><b>7.1</b> UQ’s Research Computing Centre</a><ul>
<li class="chapter" data-level="7.1.1" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#hpc-access"><i class="fa fa-check"></i><b>7.1.1</b> HPC access</a></li>
<li class="chapter" data-level="7.1.2" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#logging-in"><i class="fa fa-check"></i><b>7.1.2</b> Logging in</a></li>
<li class="chapter" data-level="7.1.3" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#submitting-a-job"><i class="fa fa-check"></i><b>7.1.3</b> Submitting a Job</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#smp-high-performance-computing"><i class="fa fa-check"></i><b>7.2</b> SMP High Performance Computing</a><ul>
<li class="chapter" data-level="7.2.1" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#getafix-structure"><i class="fa fa-check"></i><b>7.2.1</b> Getafix Structure</a></li>
<li class="chapter" data-level="7.2.2" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#slurm"><i class="fa fa-check"></i><b>7.2.2</b> SLURM</a></li>
<li class="chapter" data-level="7.2.3" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#other-resources"><i class="fa fa-check"></i><b>7.2.3</b> Other Resources</a></li>
<li class="chapter" data-level="7.2.4" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#getting-into-getafix"><i class="fa fa-check"></i><b>7.2.4</b> Getting into Getafix</a></li>
<li class="chapter" data-level="7.2.5" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#putting-your-data-on-getafix"><i class="fa fa-check"></i><b>7.2.5</b> Putting your data on Getafix</a></li>
<li class="chapter" data-level="7.2.6" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#sending-your-data-to-getafix"><i class="fa fa-check"></i><b>7.2.6</b> Sending your data to getafix</a></li>
<li class="chapter" data-level="7.2.7" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#running-jobs-on-getafix"><i class="fa fa-check"></i><b>7.2.7</b> Running jobs on Getafix</a></li>
<li class="chapter" data-level="7.2.8" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#debugging-rmd-files"><i class="fa fa-check"></i><b>7.2.8</b> Debugging Rmd files</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#general-hpc-guidance"><i class="fa fa-check"></i><b>7.3</b> General HPC Guidance</a><ul>
<li class="chapter" data-level="7.3.1" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#getting-results-back"><i class="fa fa-check"></i><b>7.3.1</b> Getting Results back</a></li>
<li class="chapter" data-level="7.3.2" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#data.frames"><i class="fa fa-check"></i><b>7.3.2</b> Data.frames</a></li>
<li class="chapter" data-level="7.3.3" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#plots"><i class="fa fa-check"></i><b>7.3.3</b> Plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#playing-nice"><i class="fa fa-check"></i><b>7.3.4</b> Playing nice</a></li>
<li class="chapter" data-level="7.3.5" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#job-submission-tips"><i class="fa fa-check"></i><b>7.3.5</b> Job Submission Tips</a></li>
<li class="chapter" data-level="7.3.6" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#what-hpc-should-i-use"><i class="fa fa-check"></i><b>7.3.6</b> What HPC should I use?</a></li>
<li class="chapter" data-level="7.3.7" data-path="high-performance-computing-at-uq.html"><a href="high-performance-computing-at-uq.html#parallel-coding-in-r"><i class="fa fa-check"></i><b>7.3.7</b> Parallel coding in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="gcm.html"><a href="gcm.html"><i class="fa fa-check"></i><b>8</b> Using Global Climate Models</a><ul>
<li class="chapter" data-level="8.1" data-path="gcm.html"><a href="gcm.html#overview"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="gcm.html"><a href="gcm.html#variable-choice"><i class="fa fa-check"></i><b>8.2</b> Variable Choice</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="cdo.html"><a href="cdo.html"><i class="fa fa-check"></i><b>9</b> CMIP6 Models and CDO</a><ul>
<li class="chapter" data-level="9.1" data-path="cdo.html"><a href="cdo.html#cmip6-models-what-the-f-is-that"><i class="fa fa-check"></i><b>9.1</b> CMIP6 models? What the F*** is that?</a><ul>
<li class="chapter" data-level="9.1.1" data-path="cdo.html"><a href="cdo.html#most-common-climate-scenarios"><i class="fa fa-check"></i><b>9.1.1</b> Most common climate scenarios</a></li>
<li class="chapter" data-level="9.1.2" data-path="cdo.html"><a href="cdo.html#can-i-use-those-models"><i class="fa fa-check"></i><b>9.1.2</b> Can I use those models?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="cdo.html"><a href="cdo.html#variable-choice-1"><i class="fa fa-check"></i><b>9.2</b> Variable Choice</a><ul>
<li class="chapter" data-level="9.2.1" data-path="cdo.html"><a href="cdo.html#lets-play-with-filters"><i class="fa fa-check"></i><b>9.2.1</b> Let’s play with filters</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="cdo.html"><a href="cdo.html#working-with-cmip6-netcdf-files-using-cdo-climate-data-operators"><i class="fa fa-check"></i><b>9.3</b> Working with CMIP6 netCDF files using CDO (Climate data operators)</a><ul>
<li class="chapter" data-level="9.3.1" data-path="cdo.html"><a href="cdo.html#installation-process"><i class="fa fa-check"></i><b>9.3.1</b> Installation Process</a></li>
<li class="chapter" data-level="9.3.2" data-path="cdo.html"><a href="cdo.html#ncview-a-netcdf-visual-browser"><i class="fa fa-check"></i><b>9.3.2</b> Ncview: a netCDF visual browser</a></li>
<li class="chapter" data-level="9.3.3" data-path="cdo.html"><a href="cdo.html#working-with-cdo-and-ncview"><i class="fa fa-check"></i><b>9.3.3</b> Working with CDO and ncview</a></li>
<li class="chapter" data-level="9.3.4" data-path="cdo.html"><a href="cdo.html#files-in-directory"><i class="fa fa-check"></i><b>9.3.4</b> Files in directory</a></li>
<li class="chapter" data-level="9.3.5" data-path="cdo.html"><a href="cdo.html#regridding-with-cdo"><i class="fa fa-check"></i><b>9.3.5</b> Regridding with CDO</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="cdo.html"><a href="cdo.html#cdo-with-multiple-input-modelsfiles"><i class="fa fa-check"></i><b>9.4</b> CDO with multiple input models/files</a></li>
<li class="chapter" data-level="9.5" data-path="cdo.html"><a href="cdo.html#cdo-extra-functions"><i class="fa fa-check"></i><b>9.5</b> CDO extra functions</a></li>
<li class="chapter" data-level="9.6" data-path="cdo.html"><a href="cdo.html#running-cdo-in-the-cluster-awoongaflashlite"><i class="fa fa-check"></i><b>9.6</b> Running CDO in the cluster (awoonga/flashlite)</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to the Mathematical Marine Ecology (MME) Lab</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Programming in R</h1>
<div id="objectives-resources-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Objectives &amp; Resources</h2>
<p>Now we are going to build a little analysis. We will learn to automate our analyses with a for loop. We will make figures, and save them each with automated labeling. Then, we will join data from different files and conditionally label them with if/else statements.</p>
<div id="objectives-1" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Objectives</h3>
<ul>
<li>create an R script</li>
<li>for loops</li>
<li>joining data</li>
<li>if statements</li>
</ul>
<!---
- make sure your loop worked like you wanted
- if statements (conditionals) 
- write message() to yourself
- list.files()
- importing and writing data
- write a local copy of gapminder data to data/ folder
- installing packages from github

**Resources**
--->
<!--- Would love to include:

When trying to see if a number or text is equal to some *single* value, use `==`. To check it against *multiple* values, use `%in%`. mine’s "%!in%" <- Negate("%in%")

list.files
file.path()
message() (with an if statement maybe)
get file extensions https://stat.ethz.ch/R-manual/R-devel/library/tools/html/fileutils.html
--->
</div>
</div>
<div id="analysis-plan" class="section level2">
<h2><span class="header-section-number">3.2</span> Analysis plan</h2>
<p>OK, here is the plan for our analysis. We want to plot the gdpPercap for each country in the gapminder data frame. So that’s 142 separate plots! We will automate this, labeling each one with its name and saving it in a folder called figures. We will learn a bunch of things as we go.</p>
</div>
<div id="create-an-r-script" class="section level2">
<h2><span class="header-section-number">3.3</span> Create an R script</h2>
<p>OK, now, we are going to create an R script. What is an R script? It’s a text file with a .R extension. We’ve been writing R code in R Markdown files so far; R scripts are just R code without the Markdown along with it.</p>
<p>Go to File &gt; New File &gt; R Script (or click the green plus in the top left corner).</p>
<p>Let’s start off with a few comments so that we know what it is for, and save it:</p>
<pre><code>## gapminder-analysis.R
## analysis with gapminder data
## J Lowndes lowndes@nceas.ucsb.edu</code></pre>
<p>We’ll be working with the gapminder data again so let’s read it in here:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="co">## load libraries</span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb55-3" data-line-number="3"></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"><span class="co">## read in gapminder data</span></a>
<a class="sourceLine" id="cb55-5" data-line-number="5">gapminder &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/gapminder.csv&#39;</span>)</a></code></pre></div>
<p>Remember, like in R Markdown, hitting return does not execute this command. To execute it, we need to get what we typed in the script down into the console. Here is how we can do that:</p>
<ol style="list-style-type: decimal">
<li>copy-paste this line into the console.</li>
<li>select the line (or simply put the cursor there), and click ‘Run’. This is available from</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>the bar above the script (green arrow)</li>
<li>the menu bar: Code &gt; Run Selected Line(s)</li>
<li>keyboard shortcut: command-return</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>source the script, which means running the whole thing. This is also great for to see if there are any typos in your code that you’ve missed. You can do this by:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>clicking Source (blue arrow in the bar above the script).</li>
<li>typing <code>source('gapminder-analysis.R')</code> in the console (or from another R file!!!).</li>
</ol>
</div>
<div id="automation-with-for-loops" class="section level2">
<h2><span class="header-section-number">3.4</span> Automation with for loops</h2>
<p>Our plan is to plot gdpPercap for each country. This means that we want to do the same operation (plotting gdpPercap) on a bunch of different things (countries). Yesterday we learned the dplyr’s <code>group_by()</code> function, and this is super powerful to automate through groups. But there are things that you may not want to do with <code>group_by()</code>, like plotting. So we will use a for loop.</p>
<p>Let’s start off with what this would look like for just one country. I’m going to demonstrate with Afghanistan:</p>
<!---TODO
For the figures, we want it to label the currency, which we have in another data file (=join). And, we'll want to add Westeros to the dataframe (=rbind) and create that figure too. 
--->
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2">gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Afghanistan&quot;</span>)</a>
<a class="sourceLine" id="cb56-4" data-line-number="4"></a>
<a class="sourceLine" id="cb56-5" data-line-number="5"><span class="co">## plot</span></a>
<a class="sourceLine" id="cb56-6" data-line-number="6">my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb56-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb56-8" data-line-number="8"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Afghanistan&quot;</span>)</a></code></pre></div>
<p>Let’s actually give this a better title than just the country name. Let’s use the <code>base::paste()</code> function from to paste two strings together so that the title is more descriptive. Use <code>?paste</code> to see what the “sep” variable does.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb57-2" data-line-number="2">gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb57-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Afghanistan&quot;</span>)</a>
<a class="sourceLine" id="cb57-4" data-line-number="4"></a>
<a class="sourceLine" id="cb57-5" data-line-number="5"><span class="co">## plot</span></a>
<a class="sourceLine" id="cb57-6" data-line-number="6">my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb57-8" data-line-number="8"><span class="st">  </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb57-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Afghanistan&quot;</span>, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a></code></pre></div>
<p>And as a last step, let’s save this figure.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb58-2" data-line-number="2">gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Afghanistan&quot;</span>)</a>
<a class="sourceLine" id="cb58-4" data-line-number="4"></a>
<a class="sourceLine" id="cb58-5" data-line-number="5"><span class="co">## plot</span></a>
<a class="sourceLine" id="cb58-6" data-line-number="6">my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb58-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb58-8" data-line-number="8"><span class="st">  </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb58-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Afghanistan&quot;</span>, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb58-10" data-line-number="10"></a>
<a class="sourceLine" id="cb58-11" data-line-number="11"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Afghanistan_gdpPercap.png&quot;</span>, <span class="dt">plot =</span> my_plot)</a></code></pre></div>
<p>OK. So we can check our repo in the file pane (bottom right of RStudio) and see the generated figure:</p>
<p><img src="img/Afghanistan_gdpPercap.png" /></p>
<div id="thinking-ahead-cleaning-up-our-code" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Thinking ahead: cleaning up our code</h3>
<p>Now, in our code above, we’ve had to write out “Afghanistan” several times. This makes it not only typo-prone as we type it each time, but if we wanted to plot another country, we’d have to write that in 3 places too. It is not setting us up for an easy time in our future, and thinking ahead in programming is something to keep in mind.</p>
<p>Instead of having “Afghanistan” written 3 times, let’s instead create an object that we will assign to “Afghanistan”. We won’t name our object “country” because that’s a column header with gapminder, and will just confuse us. Let’s make it distinctive: let’s write cntry (country without vowels):</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="co">## create country variable</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2">cntry &lt;-<span class="st"> &quot;Afghanistan&quot;</span></a></code></pre></div>
<p>Now, we can replace each <code>&quot;Afghanistan&quot;</code> with our variable <code>cntry</code>. We will have to introduce a <code>paste</code> statement here too, and we want to separate by nothing (<code>&quot;&quot;</code>). Note: there are many ways to create the filename, and we are doing it this way for a specific reason right now.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="co">## create country variable</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2">cntry &lt;-<span class="st"> &quot;Afghanistan&quot;</span></a>
<a class="sourceLine" id="cb60-3" data-line-number="3"></a>
<a class="sourceLine" id="cb60-4" data-line-number="4"><span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb60-5" data-line-number="5">gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb60-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb60-7" data-line-number="7"></a>
<a class="sourceLine" id="cb60-8" data-line-number="8"><span class="co">## plot</span></a>
<a class="sourceLine" id="cb60-9" data-line-number="9">my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb60-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb60-11" data-line-number="11"><span class="st">  </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb60-12" data-line-number="12"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb60-13" data-line-number="13"></a>
<a class="sourceLine" id="cb60-14" data-line-number="14"><span class="co">## note: there are many ways to create filenames with paste() or file.path(); we are doing this way for a reason.</span></a>
<a class="sourceLine" id="cb60-15" data-line-number="15"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;_gdpPercap.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">plot =</span> my_plot)</a></code></pre></div>
<p>Let’s run this. Great! it saved our figure (I can tell this because the timestamp in the Files pane has updated!)</p>
</div>
<div id="for-loop-basic-structure" class="section level3">
<h3><span class="header-section-number">3.4.2</span> For loop basic structure</h3>
<p>Now, how about if we want to plot not only Afghanistan, but other countries as well? There wasn’t actually that much code needed to get us here, but we definitely do not want to copy this for every country. Even if we copy-pasted and switched out the country assigned to the <code>cntry</code> variable, it would be very typo-prone. Plus, what if you wanted to instead plot lifeExp? You’d have to remember to change it each time…it gets messy quick.</p>
<p>Better with a for loop. This will let us cycle through and do what we want to each thing in turn. If you want to iterate over a set of values, and perform the same operation on each, a <code>for</code> loop will do the job.</p>
<p><strong>Sit back and watch me for a few minutes while we develop the for loop.</strong> Then we’ll give you time to do this on your computers as well.</p>
<p>The basic structure of a <code>for</code> loop is:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="cf">for</span>( each item <span class="cf">in</span> set of items ){</a>
<a class="sourceLine" id="cb61-2" data-line-number="2">  do a thing</a>
<a class="sourceLine" id="cb61-3" data-line-number="3">}</a></code></pre></div>
<p>Note the <code>( )</code> and the <code>{ }</code>. We talk about iterating through each item in the for loop, which makes each item an iterator.</p>
<p>So looking back at our Afghanistan code: all of this is pretty much the “do a thing” part. And we can see that there are only a few places that are specific to Afghanistan. If we could make those places not specific to Afghanistan, we would be set.</p>
<p><img src="img/for_loop_logic.png" /></p>
<p>Let’s paste from what we had before, and modify it. I’m also going to use RStudio’s indentation help to indent the lines within the for loop by highlighting the code in this chunk and going to Code &gt; Reindent Lines (shortcut: command I)</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="co">## create country variable</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2">cntry &lt;-<span class="st"> &quot;Afghanistan&quot;</span></a>
<a class="sourceLine" id="cb62-3" data-line-number="3"></a>
<a class="sourceLine" id="cb62-4" data-line-number="4"><span class="cf">for</span> (each cntry <span class="cf">in</span> a list of countries ) {</a>
<a class="sourceLine" id="cb62-5" data-line-number="5">  </a>
<a class="sourceLine" id="cb62-6" data-line-number="6">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb62-7" data-line-number="7">  gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb62-8" data-line-number="8"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb62-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb62-10" data-line-number="10">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb62-11" data-line-number="11">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb62-12" data-line-number="12"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb62-13" data-line-number="13"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb62-14" data-line-number="14"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb62-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb62-16" data-line-number="16">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;_gdpPercap.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">plot =</span> my_plot)</a>
<a class="sourceLine" id="cb62-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb62-18" data-line-number="18">}</a></code></pre></div>
</div>
<div id="executable-for-loop" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Executable for loop!</h3>
<p>OK. So let’s start with the beginning of the for loop. We want a list of countries that we will iterate through. We can do that by adding this code before the for loop.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="co">## create a list of countries</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2">country_list &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Albania&quot;</span>, <span class="st">&quot;Fiji&quot;</span>, <span class="st">&quot;Spain&quot;</span>)</a>
<a class="sourceLine" id="cb63-3" data-line-number="3"></a>
<a class="sourceLine" id="cb63-4" data-line-number="4"><span class="cf">for</span> ( cntry <span class="cf">in</span> country_list ) {</a>
<a class="sourceLine" id="cb63-5" data-line-number="5">  </a>
<a class="sourceLine" id="cb63-6" data-line-number="6">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb63-7" data-line-number="7">  gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb63-8" data-line-number="8"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb63-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb63-10" data-line-number="10">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb63-11" data-line-number="11">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-12" data-line-number="12"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb63-13" data-line-number="13"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb63-14" data-line-number="14"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb63-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb63-16" data-line-number="16">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;_gdpPercap.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">plot =</span> my_plot)</a>
<a class="sourceLine" id="cb63-17" data-line-number="17"></a>
<a class="sourceLine" id="cb63-18" data-line-number="18">}</a></code></pre></div>
<p>At this point, we do have a functioning for loop. For each item in the <code>country_list</code>, the for loop will iterate over the code within the <code>{ }</code>, changing <code>cntry</code> each time as it goes through the list. And we can see it works because we can see them appear in the files pane at the bottom right of RStudio!</p>
<p>Great! And it doesn’t matter if we just use these three countries or all the countries–let’s try it.</p>
<p>But first let’s create a figure directory and make sure it saves there since it’s going to get out of hand quickly. We could do this from the Finder/Windows Explorer, or from the “Files” pane in RStudio by clicking “New Folder” (green plus button). But we are going to do it in R. A folder is called a directory:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">&quot;figures&quot;</span>) </a>
<a class="sourceLine" id="cb64-2" data-line-number="2"></a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="co">## create a list of countries</span></a>
<a class="sourceLine" id="cb64-4" data-line-number="4">country_list &lt;-<span class="st"> </span><span class="kw">unique</span>(gapminder<span class="op">$</span>country) <span class="co"># ?unique() returns the unique values</span></a>
<a class="sourceLine" id="cb64-5" data-line-number="5"></a>
<a class="sourceLine" id="cb64-6" data-line-number="6"><span class="cf">for</span>( cntry <span class="cf">in</span> country_list ){</a>
<a class="sourceLine" id="cb64-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb64-8" data-line-number="8">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb64-9" data-line-number="9">  gap_to_plot &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb64-10" data-line-number="10"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb64-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb64-12" data-line-number="12">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb64-13" data-line-number="13">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-14" data-line-number="14"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb64-15" data-line-number="15"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb64-16" data-line-number="16"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb64-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb64-18" data-line-number="18">  <span class="co">## add the figures/ folder</span></a>
<a class="sourceLine" id="cb64-19" data-line-number="19">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(<span class="st">&quot;figures/&quot;</span>, cntry, <span class="st">&quot;_gdpPercap.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)), plot =<span class="st"> </span>my_plot<span class="er">)</span></a>
<a class="sourceLine" id="cb64-20" data-line-number="20">} </a></code></pre></div>
<p>So that took a little longer than just the 3, but still super fast. For loops are sometimes just the thing you need to iterate over many things in your analyses.</p>
</div>
<div id="clean-up-our-repo" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Clean up our repo</h3>
<p>OK we now have 142 figures that we just created. They exist locally on our computer, and we have the code to recreate them anytime. But, we don’t really need to push them to GitHub. Let’s delete the figures/ folder and see it disappear from the Git tab.</p>
</div>
<div id="your-turn-5" class="section level3">
<h3><span class="header-section-number">3.4.5</span> Your turn</h3>
<ol style="list-style-type: decimal">
<li>Modify our for loop so that it:</li>
</ol>
<ul>
<li>loops through countries in Europe only</li>
<li>plots the cumulative mean gdpPercap (Hint: Use the <a href="https://www.rstudio.com/resources/cheatsheets/">Data Wrangling Cheatsheet</a>!)</li>
<li>saves them to a new subfolder inside the (recreated) figures folder called “Europe”.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Sync to GitHub</li>
</ol>
<div id="answer" class="section level4">
<h4><span class="header-section-number">3.4.5.1</span> Answer</h4>
<p>No peeking!</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">&quot;figures&quot;</span>) </a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="kw">dir.create</span>(<span class="st">&quot;figures/Europe&quot;</span>) </a>
<a class="sourceLine" id="cb65-3" data-line-number="3"></a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="co">## create a list of countries. Calculations go here, not in the for loop</span></a>
<a class="sourceLine" id="cb65-5" data-line-number="5">gap_europe &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb65-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdpPercap_cummean =</span> dplyr<span class="op">::</span><span class="kw">cummean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb65-8" data-line-number="8"></a>
<a class="sourceLine" id="cb65-9" data-line-number="9">country_list &lt;-<span class="st"> </span><span class="kw">unique</span>(gap_europe<span class="op">$</span>country) <span class="co"># ?unique() returns the unique values</span></a>
<a class="sourceLine" id="cb65-10" data-line-number="10"></a>
<a class="sourceLine" id="cb65-11" data-line-number="11"><span class="cf">for</span>( cntry <span class="cf">in</span> country_list ){ <span class="co"># (cntry = country_list[1])</span></a>
<a class="sourceLine" id="cb65-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb65-13" data-line-number="13">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb65-14" data-line-number="14">  gap_to_plot &lt;-<span class="st"> </span>gap_europe <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb65-15" data-line-number="15"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb65-16" data-line-number="16">  </a>
<a class="sourceLine" id="cb65-17" data-line-number="17">  <span class="co">## add a print message to see what&#39;s plotting</span></a>
<a class="sourceLine" id="cb65-18" data-line-number="18">  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Plotting&quot;</span>, cntry))</a>
<a class="sourceLine" id="cb65-19" data-line-number="19">  </a>
<a class="sourceLine" id="cb65-20" data-line-number="20">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb65-21" data-line-number="21">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap_cummean)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-22" data-line-number="22"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb65-23" data-line-number="23"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb65-24" data-line-number="24"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb65-25" data-line-number="25">  </a>
<a class="sourceLine" id="cb65-26" data-line-number="26">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(<span class="st">&quot;figures/Europe/&quot;</span>, cntry, <span class="st">&quot;_gdpPercap_cummean.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)), </a>
<a class="sourceLine" id="cb65-27" data-line-number="27">  plot =<span class="st"> </span>my_plot<span class="er">)</span></a>
<a class="sourceLine" id="cb65-28" data-line-number="28">} </a></code></pre></div>
<p>Notice how we put the calculation for <code>cummean()</code> outside the for loop. It could have gone inside, but it’s an operation that could be done just one time before hand (outside the loop) rather than multiple times as you go (inside the for loop).</p>
</div>
</div>
</div>
<div id="conditional-statements-with-if-and-else" class="section level2">
<h2><span class="header-section-number">3.5</span> Conditional statements with <code>if</code> and <code>else</code></h2>
<p>Often when we’re coding we want to control the flow of our actions. This can be done
by setting actions to occur only if a condition or a set of conditions are met.</p>
<p>In R and other languages, these are called “if statements”.</p>
<div id="if-statement-basic-structure" class="section level3">
<h3><span class="header-section-number">3.5.1</span> if statement basic structure</h3>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="co"># if</span></a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="cf">if</span> (condition is true) {</a>
<a class="sourceLine" id="cb66-3" data-line-number="3">  do something</a>
<a class="sourceLine" id="cb66-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb66-5" data-line-number="5"></a>
<a class="sourceLine" id="cb66-6" data-line-number="6"><span class="co"># if ... else</span></a>
<a class="sourceLine" id="cb66-7" data-line-number="7"><span class="cf">if</span> (condition is true) {</a>
<a class="sourceLine" id="cb66-8" data-line-number="8">  do something</a>
<a class="sourceLine" id="cb66-9" data-line-number="9">} <span class="cf">else</span> {  <span class="co"># that is, if the condition is false,</span></a>
<a class="sourceLine" id="cb66-10" data-line-number="10">  do something different</a>
<a class="sourceLine" id="cb66-11" data-line-number="11">}</a></code></pre></div>
<p>Let’s bring this concept into our for loop for Europe that we’ve just done. What if we want to add the label “Estimated” to countries that were estimated? Here’s what we’d do.</p>
<p>First, import csv file with information on whether data was estimated or reported, and join to gapminder dataset:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">est &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/countries_estimated.csv&#39;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   country = col_character(),
##   estimated = col_character()
## )</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">gapminder_est &lt;-<span class="st"> </span><span class="kw">left_join</span>(gapminder, est)</a></code></pre></div>
<pre><code>## Joining, by = &quot;country&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">&quot;figures&quot;</span>) </a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="kw">dir.create</span>(<span class="st">&quot;figures/Europe&quot;</span>) </a>
<a class="sourceLine" id="cb71-3" data-line-number="3"></a>
<a class="sourceLine" id="cb71-4" data-line-number="4"><span class="co">## create a list of countries</span></a>
<a class="sourceLine" id="cb71-5" data-line-number="5">gap_europe &lt;-<span class="st"> </span>gapminder_est <span class="op">%&gt;%</span><span class="st"> </span><span class="co">## use instead of gapminder</span></a>
<a class="sourceLine" id="cb71-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb71-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdpPercap_cummean =</span> dplyr<span class="op">::</span><span class="kw">cummean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb71-8" data-line-number="8"></a>
<a class="sourceLine" id="cb71-9" data-line-number="9">country_list &lt;-<span class="st"> </span><span class="kw">unique</span>(gap_europe<span class="op">$</span>country) </a>
<a class="sourceLine" id="cb71-10" data-line-number="10"></a>
<a class="sourceLine" id="cb71-11" data-line-number="11"><span class="cf">for</span>( cntry <span class="cf">in</span> country_list ){ <span class="co"># (cntry = country_list[1])</span></a>
<a class="sourceLine" id="cb71-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb71-13" data-line-number="13">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb71-14" data-line-number="14">  gap_to_plot &lt;-<span class="st"> </span>gap_europe <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb71-15" data-line-number="15"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb71-16" data-line-number="16">  </a>
<a class="sourceLine" id="cb71-17" data-line-number="17">  <span class="co">## add a print message </span></a>
<a class="sourceLine" id="cb71-18" data-line-number="18">  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Plotting&quot;</span>, cntry))</a>
<a class="sourceLine" id="cb71-19" data-line-number="19">  </a>
<a class="sourceLine" id="cb71-20" data-line-number="20">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb71-21" data-line-number="21">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap_cummean)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-22" data-line-number="22"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb71-23" data-line-number="23"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb71-24" data-line-number="24"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb71-25" data-line-number="25">  </a>
<a class="sourceLine" id="cb71-26" data-line-number="26">  <span class="co">## if estimated, add that as a subtitle. </span></a>
<a class="sourceLine" id="cb71-27" data-line-number="27">  <span class="cf">if</span> (gap_to_plot<span class="op">$</span>estimated <span class="op">==</span><span class="st"> &quot;yes&quot;</span>) {</a>
<a class="sourceLine" id="cb71-28" data-line-number="28">    </a>
<a class="sourceLine" id="cb71-29" data-line-number="29">    <span class="co">## add a print statement just to check</span></a>
<a class="sourceLine" id="cb71-30" data-line-number="30">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are estimated&quot;</span>))</a>
<a class="sourceLine" id="cb71-31" data-line-number="31">    </a>
<a class="sourceLine" id="cb71-32" data-line-number="32">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb71-33" data-line-number="33"><span class="st">      </span><span class="kw">labs</span>(<span class="kw">sutbtitle</span>(<span class="st">&quot;Estimated data&quot;</span>))</a>
<a class="sourceLine" id="cb71-34" data-line-number="34">  }</a>
<a class="sourceLine" id="cb71-35" data-line-number="35">  <span class="co">#   Warning message:</span></a>
<a class="sourceLine" id="cb71-36" data-line-number="36">  <span class="co"># In if (gap_to_plot$estimated == &quot;yes&quot;) { :</span></a>
<a class="sourceLine" id="cb71-37" data-line-number="37">  <span class="co">#   the condition has length &gt; 1 and only the first element will be used</span></a>
<a class="sourceLine" id="cb71-38" data-line-number="38">  </a>
<a class="sourceLine" id="cb71-39" data-line-number="39">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(<span class="st">&quot;figures/Europe/&quot;</span>, cntry, <span class="st">&quot;_gdpPercap_cummean.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), </a>
<a class="sourceLine" id="cb71-40" data-line-number="40">         <span class="dt">plot =</span> my_plot)</a>
<a class="sourceLine" id="cb71-41" data-line-number="41">  </a>
<a class="sourceLine" id="cb71-42" data-line-number="42">} </a></code></pre></div>
<p>This worked, but we got a warning message with the if statement. This is because if we look at <code>gap_to_plot$estimated</code>, it is many “yes”s or “no”s, and the if statement works just on the first one. We know that if any are yes, all are yes, but you can imagine that this could lead to problems down the line if you <em>didn’t</em> know that. So let’s be explicit:</p>
</div>
<div id="executable-if-statement" class="section level3">
<h3><span class="header-section-number">3.5.2</span> Executable if statement</h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">&quot;figures&quot;</span>) </a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="kw">dir.create</span>(<span class="st">&quot;figures/Europe&quot;</span>) </a>
<a class="sourceLine" id="cb72-3" data-line-number="3"></a>
<a class="sourceLine" id="cb72-4" data-line-number="4"></a>
<a class="sourceLine" id="cb72-5" data-line-number="5"><span class="co">## create a list of countries</span></a>
<a class="sourceLine" id="cb72-6" data-line-number="6">gap_europe &lt;-<span class="st"> </span>gapminder_est <span class="op">%&gt;%</span><span class="st"> </span><span class="co">## use instead of gapminder</span></a>
<a class="sourceLine" id="cb72-7" data-line-number="7"><span class="st">  </span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-8" data-line-number="8"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdpPercap_cummean =</span> dplyr<span class="op">::</span><span class="kw">cummean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb72-9" data-line-number="9"></a>
<a class="sourceLine" id="cb72-10" data-line-number="10">country_list &lt;-<span class="st"> </span><span class="kw">unique</span>(gap_europe<span class="op">$</span>country) </a>
<a class="sourceLine" id="cb72-11" data-line-number="11"></a>
<a class="sourceLine" id="cb72-12" data-line-number="12"><span class="cf">for</span>( cntry <span class="cf">in</span> country_list ){ <span class="co"># (cntry = country_list[1])</span></a>
<a class="sourceLine" id="cb72-13" data-line-number="13">  </a>
<a class="sourceLine" id="cb72-14" data-line-number="14">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb72-15" data-line-number="15">  gap_to_plot &lt;-<span class="st"> </span>gap_europe <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-16" data-line-number="16"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb72-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb72-18" data-line-number="18">  <span class="co">## add a print message </span></a>
<a class="sourceLine" id="cb72-19" data-line-number="19">  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Plotting&quot;</span>, cntry))</a>
<a class="sourceLine" id="cb72-20" data-line-number="20">  </a>
<a class="sourceLine" id="cb72-21" data-line-number="21">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb72-22" data-line-number="22">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap_cummean)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb72-23" data-line-number="23"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb72-24" data-line-number="24"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb72-25" data-line-number="25"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb72-26" data-line-number="26">  </a>
<a class="sourceLine" id="cb72-27" data-line-number="27">  <span class="co">## if estimated, add that as a subtitle. </span></a>
<a class="sourceLine" id="cb72-28" data-line-number="28">  <span class="cf">if</span> (<span class="kw">any</span>(gap_to_plot<span class="op">$</span>estimated <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)) { <span class="co"># any() will return a single TRUE or FALSE</span></a>
<a class="sourceLine" id="cb72-29" data-line-number="29">    </a>
<a class="sourceLine" id="cb72-30" data-line-number="30">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are estimated&quot;</span>))</a>
<a class="sourceLine" id="cb72-31" data-line-number="31">    </a>
<a class="sourceLine" id="cb72-32" data-line-number="32">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb72-33" data-line-number="33"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Estimated data&quot;</span>)</a>
<a class="sourceLine" id="cb72-34" data-line-number="34">  }</a>
<a class="sourceLine" id="cb72-35" data-line-number="35">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(<span class="st">&quot;figures/Europe/&quot;</span>, cntry, <span class="st">&quot;_gdpPercap_cummean.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), </a>
<a class="sourceLine" id="cb72-36" data-line-number="36">         <span class="dt">plot =</span> my_plot)</a>
<a class="sourceLine" id="cb72-37" data-line-number="37">  </a>
<a class="sourceLine" id="cb72-38" data-line-number="38">} </a></code></pre></div>
<p>OK so this is working as we expect! Note that we do not need an <code>else</code> statement above, because we only want to do something (add a subtitle) if one condition is met. But what if we want to add a different subtitle based on another condition, say where the data are reported, to be extra explicit about it?</p>
</div>
<div id="executable-ifelse-statement" class="section level3">
<h3><span class="header-section-number">3.5.3</span> Executable if/else statement</h3>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">&quot;figures&quot;</span>) </a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="kw">dir.create</span>(<span class="st">&quot;figures/Europe&quot;</span>) </a>
<a class="sourceLine" id="cb73-3" data-line-number="3"></a>
<a class="sourceLine" id="cb73-4" data-line-number="4"><span class="co">## create a list of countries</span></a>
<a class="sourceLine" id="cb73-5" data-line-number="5">gap_europe &lt;-<span class="st"> </span>gapminder_est <span class="op">%&gt;%</span><span class="st"> </span><span class="co">## use instead of gapminder</span></a>
<a class="sourceLine" id="cb73-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdpPercap_cummean =</span> dplyr<span class="op">::</span><span class="kw">cummean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb73-8" data-line-number="8"></a>
<a class="sourceLine" id="cb73-9" data-line-number="9">country_list &lt;-<span class="st"> </span><span class="kw">unique</span>(gap_europe<span class="op">$</span>country) </a>
<a class="sourceLine" id="cb73-10" data-line-number="10"></a>
<a class="sourceLine" id="cb73-11" data-line-number="11"><span class="cf">for</span>( cntry <span class="cf">in</span> country_list ){ <span class="co"># (cntry = country_list[1])</span></a>
<a class="sourceLine" id="cb73-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb73-13" data-line-number="13">  <span class="co">## filter the country to plot</span></a>
<a class="sourceLine" id="cb73-14" data-line-number="14">  gap_to_plot &lt;-<span class="st"> </span>gap_europe <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-15" data-line-number="15"><span class="st">    </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cntry)</a>
<a class="sourceLine" id="cb73-16" data-line-number="16">  </a>
<a class="sourceLine" id="cb73-17" data-line-number="17">  <span class="co">## add a print message </span></a>
<a class="sourceLine" id="cb73-18" data-line-number="18">  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Plotting&quot;</span>, cntry))</a>
<a class="sourceLine" id="cb73-19" data-line-number="19">  </a>
<a class="sourceLine" id="cb73-20" data-line-number="20">  <span class="co">## plot</span></a>
<a class="sourceLine" id="cb73-21" data-line-number="21">  my_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gap_to_plot, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap_cummean)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb73-22" data-line-number="22"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb73-23" data-line-number="23"><span class="st">    </span><span class="co">## add title and save</span></a>
<a class="sourceLine" id="cb73-24" data-line-number="24"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(cntry, <span class="st">&quot;GDP per capita&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb73-25" data-line-number="25">  </a>
<a class="sourceLine" id="cb73-26" data-line-number="26">  <span class="co">## if estimated, add that as a subtitle. </span></a>
<a class="sourceLine" id="cb73-27" data-line-number="27">  <span class="cf">if</span> (<span class="kw">any</span>(gap_to_plot<span class="op">$</span>estimated <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)) { <span class="co"># any() will return a single TRUE or FALSE</span></a>
<a class="sourceLine" id="cb73-28" data-line-number="28">    </a>
<a class="sourceLine" id="cb73-29" data-line-number="29">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are estimated&quot;</span>))</a>
<a class="sourceLine" id="cb73-30" data-line-number="30">    </a>
<a class="sourceLine" id="cb73-31" data-line-number="31">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb73-32" data-line-number="32"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Estimated data&quot;</span>)</a>
<a class="sourceLine" id="cb73-33" data-line-number="33">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb73-34" data-line-number="34">    </a>
<a class="sourceLine" id="cb73-35" data-line-number="35">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb73-36" data-line-number="36"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Reported data&quot;</span>)</a>
<a class="sourceLine" id="cb73-37" data-line-number="37">    </a>
<a class="sourceLine" id="cb73-38" data-line-number="38">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are reported&quot;</span>))</a>
<a class="sourceLine" id="cb73-39" data-line-number="39">    </a>
<a class="sourceLine" id="cb73-40" data-line-number="40">  }</a>
<a class="sourceLine" id="cb73-41" data-line-number="41">  <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste</span>(<span class="st">&quot;figures/Europe/&quot;</span>, cntry, <span class="st">&quot;_gdpPercap_cummean.png&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), </a>
<a class="sourceLine" id="cb73-42" data-line-number="42">         <span class="dt">plot =</span> my_plot)</a>
<a class="sourceLine" id="cb73-43" data-line-number="43">  </a>
<a class="sourceLine" id="cb73-44" data-line-number="44">} </a></code></pre></div>
<p>Note that this works because we know there are only two conditions, <code>Estimated == yes</code> and <code>Estimated == no</code>. In the first <code>if</code> statement we asked for estimated data, and the <code>else</code> condition gives us everything else (which we know is reported). We can be explicit about setting these conditions in the <code>else</code> clause by instead using an <code>else if</code> statement. Below is how you would construct this in your for loop, similar to above:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">  <span class="cf">if</span> (<span class="kw">any</span>(gap_to_plot<span class="op">$</span>estimated <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)) { <span class="co"># any() will return a single TRUE or FALSE</span></a>
<a class="sourceLine" id="cb74-2" data-line-number="2">    </a>
<a class="sourceLine" id="cb74-3" data-line-number="3">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are estimated&quot;</span>))</a>
<a class="sourceLine" id="cb74-4" data-line-number="4">    </a>
<a class="sourceLine" id="cb74-5" data-line-number="5">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb74-6" data-line-number="6"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Estimated data&quot;</span>)</a>
<a class="sourceLine" id="cb74-7" data-line-number="7">  } <span class="cf">else</span> <span class="cf">if</span> (<span class="kw">any</span>(gap_to_plot<span class="op">$</span>estimated <span class="op">==</span><span class="st"> &quot;no&quot;</span>)){</a>
<a class="sourceLine" id="cb74-8" data-line-number="8">    </a>
<a class="sourceLine" id="cb74-9" data-line-number="9">    my_plot &lt;-<span class="st"> </span>my_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb74-10" data-line-number="10"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Reported data&quot;</span>)</a>
<a class="sourceLine" id="cb74-11" data-line-number="11">    </a>
<a class="sourceLine" id="cb74-12" data-line-number="12">    <span class="kw">print</span>(<span class="kw">paste</span>(cntry, <span class="st">&quot;data are reported&quot;</span>))</a>
<a class="sourceLine" id="cb74-13" data-line-number="13">    </a>
<a class="sourceLine" id="cb74-14" data-line-number="14">  }</a></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: &#39;estimated&#39;.

## Warning: Unknown or uninitialised column: &#39;estimated&#39;.</code></pre>
<p>This construction is necessary if you have more than two conditions to test for.</p>
</div>
</div>
<div id="more-r" class="section level2">
<h2><span class="header-section-number">3.6</span> More R!</h2>
<p>With just a little bit of time left, here are some things that you can look into more on your own.</p>
<div id="importing-and-installing" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Importing and Installing</h3>
<p>Here are some really helpful packages for you to work with:</p>
<p>Remember you’ll use <code>install.packages(&quot;package-name-in-quotes&quot;)</code> to install from CRAN.</p>
<ul>
<li><code>readr</code> to read in .csv files</li>
<li><code>readxl</code> to read in Excel files</li>
<li><code>stringr</code> to work with strings</li>
<li><code>lubridate</code> to work with dates</li>
</ul>
<p>You are also able to install packages directly with Github, using the <code>devtools</code> package. Then, instead of <code>install.packages()</code>, you’ll use <code>devtools::install_github()</code>. And you can create <em>your own</em> packages when you’re ready. Read <a href="http://r-pkgs.had.co.nz/" class="uri">http://r-pkgs.had.co.nz/</a> to learn how!</p>
</div>
<div id="organization-and-workflows" class="section level3">
<h3><span class="header-section-number">3.6.2</span> Organization and workflows</h3>
<ul>
<li>set up a folder for figs, intermediate analyses, final outputs, figures</li>
</ul>
</div>
<div id="getting-help" class="section level3">
<h3><span class="header-section-number">3.6.3</span> Getting help</h3>
<p>You’ll soon have questions that are outside the scope of this workshop, how do you find answers?</p>
<ul>
<li>end with a ton of resources:
<a href="https://peerj.com/collections/50-practicaldatascistats/" class="uri">https://peerj.com/collections/50-practicaldatascistats/</a></li>
</ul>
</div>
</div>
<div id="ideas-for-extended-analysis-2" class="section level2">
<h2><span class="header-section-number">3.7</span> Ideas for Extended Analysis 2</h2>
<ul>
<li>stringr() <a href="http://r4ds.had.co.nz/strings.html" class="uri">http://r4ds.had.co.nz/strings.html</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="github.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
